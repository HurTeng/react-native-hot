__d(function(e,t,r,o){'use strict';var s=t(12),n=t(46),a=babelHelpers.interopRequireDefault(n),i=t(318),p=t(319),u=t(324),l=t(325),c=t(308),f=t(316).Map,h=i.Interpolators,d='android'===s.Platform.OS?p:u,_=t(49),v=h.map(function(){return{style:{}}}),y=h.map(function(){return{style:{}}}),g=h.map(function(){return{style:{}}}),m=h.map(function(){return{style:{}}}),b=h.map(function(){return{style:{}}});function k(e){return void 0!==e.presentedIndex?e.presentedIndex:e.observedTopOfStack}function S(e,t){return e===t?i.Center[e]:e<t?i.Left[e]:i.Right[e]}var R=(function(e){function t(){var e,r,o,n;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,p=Array(i),u=0;u<i;u++)p[u]=arguments[u];return r=o=babelHelpers.possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o._getBreadcrumb=function(e,t){var r=o.props.navState.routeStack.length<=1&&0===t?'none':'auto',n=o.props.routeMapper,i=S(t,k(o.props.navState));return a.default.createElement(s.View,{key:'crumb_'+t,pointerEvents:r,ref:'crumb_'+t,style:i.Crumb},a.default.createElement(s.View,{ref:'icon_'+t,style:i.Icon},n.iconForRoute(e,o.props.navigator)),a.default.createElement(s.View,{ref:'separator_'+t,style:i.Separator},n.separatorForRoute(e,o.props.navigator)))},o._getTitle=function(e,t){if(o._descriptors.title.has(e))return o._descriptors.title.get(e);var r=o.props.routeMapper.titleContentForRoute(o.props.navState.routeStack[t],o.props.navigator),n=S(t,k(o.props.navState)),i=a.default.createElement(s.View,{key:'title_'+t,ref:'title_'+t,style:n.Title},r);return o._descriptors.title=o._descriptors.title.set(e,i),i},o._getRightButton=function(e,t){if(o._descriptors.right.has(e))return o._descriptors.right.get(e);var r=o.props.routeMapper.rightContentForRoute(o.props.navState.routeStack[t],o.props.navigator);if(!r)return o._descriptors.right=o._descriptors.right.set(e,null),null;var n=S(t,k(o.props.navState)),i=a.default.createElement(s.View,{key:'right_'+t,ref:'right_'+t,style:n.RightItem},r);return o._descriptors.right=o._descriptors.right.set(e,i),i},n=r,babelHelpers.possibleConstructorReturn(o,n)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_updateIndexProgress",value:function(e,t,r,o){var s,n=o>r?e:1-e,a=t-r,i=t-o;c(h[t],'Cannot find breadcrumb interpolators for '+t),(s=a>0&&0===i||i>0&&0===a?h[t].RightToCenter:a<0&&0===i||i<0&&0===a?h[t].CenterToLeft:a===i?h[t].RightToCenter:h[t].RightToLeft).Crumb(v[t].style,n)&&this._setPropsIfExists('crumb_'+t,v[t]),s.Icon(y[t].style,n)&&this._setPropsIfExists('icon_'+t,y[t]),s.Separator(g[t].style,n)&&this._setPropsIfExists('separator_'+t,g[t]),s.Title(m[t].style,n)&&this._setPropsIfExists('title_'+t,m[t]);var p=this.refs['right_'+t],u=b[t].style;p&&s.RightItem(u,n)&&p.setNativeProps({style:u,pointerEvents:0===u.opacity?'none':'auto'})}},{key:"updateProgress",value:function(e,t,r){for(var o=Math.max(t,r),s=Math.min(t,r);s<=o;s++)this._updateIndexProgress(e,s,t,r)}},{key:"onAnimationStart",value:function(e,t){for(var r=Math.max(e,t),o=Math.min(e,t);o<=r;o++)this._setRenderViewsToHardwareTextureAndroid(o,!0)}},{key:"onAnimationEnd",value:function(){for(var e=this.props.navState.routeStack.length-1,t=0;t<=e;t++)this._setRenderViewsToHardwareTextureAndroid(t,!1)}},{key:"_setRenderViewsToHardwareTextureAndroid",value:function(e,t){var r={renderToHardwareTextureAndroid:t};this._setPropsIfExists('icon_'+e,r),this._setPropsIfExists('separator_'+e,r),this._setPropsIfExists('title_'+e,r),this._setPropsIfExists('right_'+e,r)}},{key:"componentWillMount",value:function(){this._reset()}},{key:"render",value:function(){var e=this.props.navState,t=e&&e.routeStack.map(this._getBreadcrumb),r=e.routeStack.map(this._getTitle),o=e.routeStack.map(this._getRightButton);return a.default.createElement(s.View,{key:this._key,style:[T.breadCrumbContainer,this.props.style]},r,t,o)}},{key:"immediatelyRefresh",value:function(){this._reset(),this.forceUpdate()}},{key:"_reset",value:function(){this._key=l(),this._descriptors={title:new f,right:new f}}},{key:"_setPropsIfExists",value:function(e,t){(e=this.refs[e])&&e.setNativeProps(t)}}]),t})(a.default.Component);R.propTypes={navigator:_.shape({push:_.func,pop:_.func,replace:_.func,popToRoute:_.func,popToTop:_.func}),routeMapper:_.shape({rightContentForRoute:_.func,titleContentForRoute:_.func,iconForRoute:_.func}),navState:_.shape({routeStack:_.arrayOf(_.object),presentedIndex:_.number}),style:s.ViewPropTypes.style},R.Styles=i;var T=s.StyleSheet.create({breadCrumbContainer:{overflow:'hidden',position:'absolute',height:d.General.TotalNavHeight,top:0,left:0,right:0}});r.exports=R},317);